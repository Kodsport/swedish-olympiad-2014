%% plainproblemname: Fiskspelet
\problemname{Fiskspelet}

Du spelar fiskspelet. Du är en fisk som ska äta mindre fiskar men aldrig får
bli uppäten av större fiskar. Fiskar ändrar aldrig storlek, men istället så får
du poäng för varje fisk du äter. Nu är det dags för spel, och du vill ha så mycket
poäng som möjligt, förstås.

Din rörelse är begränsad till endast förflyttningar i y-led och din x-position
kommer alltid vara 0. De andra fiskarna å andra sidan rör sig aldrig i y-led,
men de flyter med konstant fart åt vänster i x-led. Din hastighet är 1
y-koordinat per sekund (i den riktning du väljer att röra dig). Alla fiskar har
bredd 1 (och även du). Din höjd är är 7. De andra fiskarna har höjder 3, 5 och
9. Du kan äta fiskar av storlek 3 och 5, men fiskar av höjd 9 kommer att äta
upp dig, och du måste akta dig för dem. Skulle du äta en fisk med höjd 3 eller
5 får du 10 respektive 20 poäng. Skulle du bli uppäten förlorar du. Fiskar av
höjd 3 färdas med hastighet 1, fiskar av höjd 5 färdas med hastighet 2 och
fiskar av höjd 9 färdas med hastighet 3.

Större fiskar äter mindre fiskar. För att det inte ska bli orättvist vem som
äter vem så har sjöjungfrun Arashiel bestämt att följande sker i varje diskret
tidssteg:

\begin{enumerate}
  \item
     Du gör ditt drag (du flyttar upp eller ner, eller stannar).
  \item
     Stora fiskar avancerar tre steg och äter allt i sin väg.
  \item
     Medium-fiskar (som överlevt) avancerar två steg och äter mindre fiskar (om några).
  \item
     Små fiskar (som överlevt) avancerar ett steg.
  \item
     Du äter små- och mellanfiskar.
\end{enumerate}

En fisk äter en annan fisk om följande tre villkor är uppfyllda:

\begin{itemize}
  \item
    Den är större än den andra fisken.
  \item
    Den avancerar till eller förbi samma x-koordinat som den andra fisken befinner sig på.
  \item
    Fiskarna överlappar i y-led.
\end{itemize}

Hela din fisk måste vara alltid vara innanför banan. Det innebär att
din mittpunkt alltid måste vara inom intervallet $[4, h-3]$.

Givet är banans höjd $h$ och antalet fiskar $n$ samt
varje fisks storlek samt start position i form av $x$ och $y$ koordinat där y-koordinaten
representerar streckets mittpunkt. Du väljer på vilken höjd-nivå vart din fisk ska börja.

\section*{Indata}

Indata börjar med en rad med två heltal, $1 \leq n \leq 50\,000$ och $20 \leq
h \leq 50$. Antalet fiskar samt höjden på banan. Sedan följer $n$ rader,
en per fisk. Fisken beskrivs med följande 3 mellansplagsseparerade värden.
Först en bokstav, \texttt{L}/\texttt{M}/\texttt{S}, alltså om fisken är av
storlek liten, mellan eller stor. Därefter följer $x$-koordinat och sedan
$y$-koordinat.

Både $x$ och $y$-koordinater har sina speciella restriktioner. $x$-koordinaten
är ett positivt heltal mindre än $10^{16}$. $y$-koordinaten kommer vara ett
heltal sådan så att hela fisken alltid får plats inom intervallet $[1, h]$.
Utöver dessa restriktioner så gäller att:

\begin{itemize}
  \item
    Inga fiskar i indata kommer överlappa varken helt eller delvis (initialt).
  \item
      $x$-koordinaten för varje fisk kommer att vara jämn, för den större
      fiskstorleken kommer den även alltid att vara delbar med 3. Detta
      eftersom vi vill att alla krockar ska ske på heltalskoordinater (något
      annat vore ju \emph{hemskt}.
  \item
    Du kommer alltid kunna klara dig från att bli uppäten, dvs spelet har
    alltid en lösning.
\end{itemize}

\section*{Utdata}
Utdata ska bestå utav en rad med ett enda heltal, antalet poäng du får om du spelar spelet optimalt.

\section*{Delpoäng}
I det här problemet kan du samla en del av poängen utan att lösa problemet fullständigt.

\begin{itemize}
    \item För 20 delpoäng så gäller det att inga andra fiskar äter upp
          varandra, och x-koordinaterna är små ($\leq 10\,000$).
    \item För ytterligare 20 delpoäng så gäller det att inga andra fiskar
          äter upp varandra.
    \item För ytterligare 30 delpoäng så gäller det att mellanfiskar aldrig
          äter småfiskar.
\end{itemize}
